
# BlindMark Pro (专业盲水印工具)

**BlindMark Pro** 是一款基于 **React 19**、**TypeScript** 和 **Web Workers** 构建的专业级纯前端**盲水印**解决方案。

与传统的可见水印不同，BlindMark Pro 利用离散余弦变换（DCT）将信息不可见地嵌入到图像的频域中，使其对图像处理攻击（如**裁剪**、**旋转 90°/180°/270°**、**压缩**和**噪点**）具有高度的鲁棒性。

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Tech](https://img.shields.io/badge/Tech-React%20%7C%20TypeScript%20%7C%20WebWorker-cyan)

## ✨ 核心特性

### 1. 强鲁棒性的隐形水印
*   **文本嵌入**：隐形嵌入版权文本（例如 "Copyright 2024"）。
*   **图像嵌入**：嵌入微标或图标（自动进行二值化抖动处理）。
*   **频域算法 (DCT)**：调制 8x8 块中的中频系数，在保持画质的同时确保信号强度。
*   **盲提取**：提取水印时无需原图。

### 2. 抗攻击与持久性
*   **抗裁剪**：采用重复嵌入机制；即使图像被裁剪掉 80%，仍可恢复水印。
*   **抗旋转**：包含自动检测算法，可从旋转 90°、180° 或 270° 的图像中恢复水印。
*   **纠错机制**：利用统计投票和少数服从多数原则，从嘈杂数据中重建比特流。

### 3. 专业级 UI/UX
*   **实时对比**：交互式“嵌入前后”滑块，直观检查画质损失。
*   **深色模式**：完全响应式的深色/浅色主题。
*   **高性能**：繁重的数学运算（DCT/IDCT）在后台 **Web Worker** 中运行，保持 UI 流畅。

### 4. PDF 工具
*   **双重保护**：添加可见的低透明度文本覆盖层 以及 不可见的元数据标签。
*   **验证**：扫描 PDF 元数据以验证版权真实性。

---

## 🛠 技术栈

*   **前端**: React 19, TypeScript, Tailwind CSS
*   **处理**: Web Workers (主线程外计算)
*   **算法**: 
    *   DCT (离散余弦变换)
    *   Floyd-Steinberg 抖动算法
    *   多数投票机制 (Majority Voting)
*   **PDF**: `pdf-lib`

---

## 🧠 算法详情

### 嵌入流程
1.  **预处理**：将图像转换为 RGBA 数据。
2.  **分块**：将图像划分为 `8x8` 像素块。
3.  **DCT 变换**：将每个块的亮度（Y 通道）通过 DCT 变换到频域。
4.  **系数调制**：选择两个中频系数 ($u_1, v_1$) 和 ($u_2, v_2$)。
    *   嵌入 `1`：确保 系数 A > 系数 B + 强度。
    *   嵌入 `0`：确保 系数 B > 系数 A + 强度。
5.  **IDCT**：将块变换回空间域（像素）。

### 提取流程
1.  **网格搜索**：提取器使用不同的偏移量和旋转角度（0/90/180/270）扫描图像。
2.  **能量分析**：计算信号能量（系数之间的差异）以找到最佳对齐方式。
3.  **统计投票**：由于水印在图像中重复存在，成千上万个块会对每一位的数值进行“投票”。
4.  **重建**：组装概率最高的比特流，并解码回文本或图像。

---

## 🚀 快速开始

### 前置要求
*   Node.js (v16+)
*   npm 或 yarn

### 安装

1.  克隆仓库：
    ```bash
    git clone https://github.com/your-username/blindmark-pro.git
    cd blindmark-pro
    ```

2.  安装依赖：
    ```bash
    npm install
    ```

3.  运行开发服务器：
    ```bash
    npm run dev
    ```

4.  打开 `http://localhost:5173`（或终端中显示的端口）。

---

## ⚠️ 免责声明

虽然 BlindMark Pro 对常见的编辑（裁剪、缩放、压缩）具有鲁棒性，但没有任何水印技术是无坚不摧的。高级几何攻击（如严重扭曲、纵横比改变）或专门的去水印 AI 工具仍可能破坏水印。本工具旨在用于版权声明和所有权追踪，而非军事级隐写术。
